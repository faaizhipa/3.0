"use strict";function _slicedToArray(e,a){return _arrayWithHoles(e)||_iterableToArrayLimit(e,a)||_unsupportedIterableToArray(e,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,a){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,a):"Map"===(t="Object"===(t={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,a):void 0}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,c=Array(a);t<a;t++)c[t]=e[t];return c}function _iterableToArrayLimit(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var c,i,n,o,r=[],l=!0,s=!1;try{if(n=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;l=!1}else for(;!(l=(c=n.call(t)).done)&&(r.push(c.value),r.length!==a);l=!0);}catch(e){s=!0,i=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}cjce.registerTemplate("bm-p-myactivity",function(e,r){var a=!cjBasics.webRequest.getWrifSupported()||!r.account.validSession,i="https://myactivity.google.com",t=i+r.wizPath+"/",c=t+"myactivity",n=cjBasics.generateUniqueId(),o={bm_cid:"myactivity",bm_cst:"2",bm_iid:n,bm_udm:r.darkMode?"1":null,bm_wiz:"1",color_scheme:r.darkMode?"dark":"light",hl:cjBasics.lang.getCurrent()};var l,s,d,m,u,_,b,y,j=cjBasics.lang.i18n("cj_i18n_07143","Activity"),g=cjce.createElement("bm-ogb",{bmApis:r,drawer:!a,loading:!a,serviceIcon:"security_shield",serviceLabel:cjBasics.lang.i18n("cj_i18n_00689","My Activity"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),onBack:function(){y.cjceSendFrameCommand({method:"bmCstNavigateBack"},i)},onNewTab:function(){a?r.openTab(c):y.cjceGetCleanUrl(i).then(function(e){r.openTab(e||c)})}}),h=(e.appendChild(g),[{id:"myactivity",iconName:"__mdi_todo:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),newTabUrl:!0},{id:"more-activity",iconName:"__mdi_todo:dashboard",label:cjBasics.lang.i18n("cj_i18n_07133","Other Google activity"),newTabUrl:!0},{id:"activitycontrols",iconName:"__mdi_todo:toggle_on",label:cjBasics.lang.i18n("cj_i18n_06365","Activity controls"),newTabUrl:!0},{id:"results-about-you",iconName:"__mdi_todo:account_circle",label:cjBasics.lang.i18n("cj_i18n_07575","Results about you"),newTabUrl:!0},{id:"linked-services",iconName:"__mdi_todo:link",label:cjBasics.lang.i18n("cj_i18n_07720","Linked Google services"),newTabUrl:!0},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_00835","Products")},{id:"product/search",iconName:"__mdi_todo:saved_search",label:cjBasics.lang.i18n("cj_i18n_01365","Google Search"),newTabUrl:!0},{id:"product/gpay",iconName:"__mdi_todo:gpay",label:cjBasics.lang.i18n("cj_i18n_01010","Google Pay"),newTabUrl:!0},{id:"product/youtube",iconName:"__mdi_todo:video_youtube",label:cjBasics.lang.i18n("cj_i18n_00445","YouTube"),newTabUrl:!0},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},{iconName:"__mdi_todo:account_circle",id:"myaccount",label:cjBasics.lang.i18n("cj_i18n_01506","Account"),newTabUrl:!0,external:!r.servicesDatabase.myaccount},{iconName:"__mdi_todo:ad",id:"myadcenter",label:cjBasics.lang.i18n("cj_i18n_07226","My Ad Centre"),newTabUrl:!0,external:!r.servicesDatabase.myadcenter}]);function p(e){var a=t+e;"myadcenter"===e&&(a="https://myadcenter.google.com"+r.wizPath+"/home"),"myaccount"===e&&(a="https://myaccount.google.com"+r.wizPath+"/"),r.openTab(a)}a?(l=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),b=cjce.createElement("bm-navlist",{items:h,onClick:function(e,a){"myaccount"===e||"myadcenter"===e?r.pageManager.navigate(e):p(e)},onNewTab:p}),l.appendChild(b),e.appendChild(l)):(s=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi_todo:delete",label:cjBasics.lang.i18n("cj_i18n_07142","Remove activity"),onClick:function(){y.cjceSendFrameCommand({method:"bmCstClickDomElement",value:'nav > a ~ a:first-child, div[data-is-touch-wrapper="true"] > button[aria-label][data-action]'},i)}}),g.cjceAppendChild(s),d=!1,m="myactivity",u=cjce.createElement("bm-navlist",{selectedId:m,items:h,isSelector:!0,onChange:function(e,a){var t,c;"myaccount"===e?(r.pageManager.navigate(e),u.cjceSelectedId=m):(m=e,t=cjBasics.urlParams.attach("/"+e,o),"results-about-you"===e&&(t+="&gl=US"),c=d,d=e.startsWith("product/")||"results-about-you"===e,g.cjceSetPageLabel(a.label),c||d?(g.cjceSetLoading(!0),y.src=i+t):y.cjceSendFrameCommand({method:"bmCstUpdateState",value:t},i))},onNewTab:p}),g.cjceDrawerEl.appendChild(u),cjBasics.webRequest.handleIframeHeaders([i+"/*bm_iid="+n+"*"],{disableOgs:i,handleFirefoxInject:!0,handleSecVariables:!0,handleSwCache:!0}),_=["/activity","/activity/","/home","/item","/myactivity","/myactivity/"],b=cjBasics.urlParams.attach(c,o),y=cjce.createElement("bm-iframe",{sandbox:"allow-scripts allow-forms allow-same-origin",src:b,onBmMessage:function(e,a){var t,c,i,n,o;"bmCstOpenUrl"===e?(i=(c=_slicedToArray(a,3))[0],t=c[1],c=c[2],i=cjBasics.cleanBmUrl(i),r.openTab(i,t,c)):"myactivityUpdatePath"===e&&(i=-1===_.indexOf(a),n=i?a.slice(1):"myactivity",s.hidden=i,g.cjceSetBackState(i),u.cjceSelectedId=n,o=j,h.forEach(function(e){e.id===n&&(o=e.label)}),g.cjceSetPageLabel(o))},onLoad:function(){g.cjceSetLoading(!1)}}),e.appendChild(y))});