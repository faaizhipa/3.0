"use strict";function _slicedToArray(e,a){return _arrayWithHoles(e)||_iterableToArrayLimit(e,a)||_unsupportedIterableToArray(e,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,a){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,a):"Map"===(t="Object"===(t={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,a):void 0}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}function _iterableToArrayLimit(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,c,o,i=[],l=!0,s=!1;try{if(c=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=c.call(t)).done)&&(i.push(n.value),i.length!==a);l=!0);}catch(e){s=!0,r=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}cjce.registerTemplate("bm-p-meet",function(e,n){var t,a="https://meet.google.com",r="https://meet.google.com/landing",c="0"!==n.account.authuser,o=(c&&(r+="?authuser="+n.account.authuser),cjBasics.generateUniqueId()),i={authuser:n.account.authuser,bm_iid:o,bm_cid:"meet",bm_cst:"2",bm_wiz:"1",hl:cjBasics.lang.getCurrent()},l=cjce.createElement("bm-ogb",{loading:!0,drawer:!0,serviceIcon:"meet",serviceLabel:cjBasics.lang.i18n("cj_i18n_00809","Meet"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:n,onNewTab:function(){n.openTab(r)}}),s=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi_todo:call",label:cjBasics.lang.i18n("cj_i18n_07215","Meet calling"),onClick:function(){var e=cjgFrontend.urls.getShortcutUrl("1409",n.account);n.openTab(e)}}),u=(l.cjceAppendChild(s),e.appendChild(l),cjBasics.urlParams.attach(r,i)),s=["https://hangouts.google.com/*bm_iid="+o+"*",a+"/*bm_iid="+o+"*","https://duo.google.com/*bm_iid="+o+"*"],d=cjBasics.webRequest.addListener("onBeforeRequest",function(e){var e=new URL(e.url),a=e.pathname;if("/"!==a&&"/_meet"!==a&&"/landing"!==a&&"/calls"!==a)return e=e.origin+a,c&&(e+="?authuser="+encodeURIComponent(n.account.authuser)),n.openTab(e),d.removeListener(),l.cjceSetLoading(!0),u+="&",t.src=u,{cancel:!0}},{urls:s},["blocking"]),i=(cjBasics.webRequest.handleIframeHeaders(s,{handleFirefoxInject:!0,handleSecVariables:!0,handleSwCache:!0}),t=cjce.createElement("bm-iframe",{src:u,shadow:!0,solid:"#fff",onLoad:function(){t.src.startsWith("https://")&&l.cjceSetLoading(!1)},onBmMessage:function(e,a){var t;"bmCstOpenUrl"===e&&(a=(e=_slicedToArray(a,3))[0],t=e[1],e=e[2],a=cjBasics.cleanBmUrl(a),n.openTab(a,t,e))}}),e.appendChild(t),l.cjceDrawerEl),a=[{id:"home",iconName:"__mdi_todo:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),shortcutId:"545"},{iconName:"__mdi_todo:call",label:cjBasics.lang.i18n("cj_i18n_07236","Calling"),shortcutId:"1409",external:!0,divider:!0},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},{id:"chat",iconName:"__mdi_todo:chat_bubble_outline",label:cjBasics.lang.i18n("cj_i18n_06694","Google Chat"),shortcutId:"559"},{id:"calendar",iconName:"__mdi_todo:date_range",label:cjBasics.lang.i18n("cj_i18n_00302","Calendar"),shortcutId:"27"}],o=cjce.createElement("bm-navlist",{selectedId:"home",items:a,onClick:function(e){"home"!==e&&n.pageManager.navigate(e)},onNewTab:function(e,a){a=a.newTabUrl||cjgFrontend.urls.getShortcutUrl(a.shortcutId,n.account);n.openTab(a)}});i.appendChild(o)});