"use strict";function _slicedToArray(e,a){return _arrayWithHoles(e)||_iterableToArrayLimit(e,a)||_unsupportedIterableToArray(e,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,a){var c;if(e)return"string"==typeof e?_arrayLikeToArray(e,a):"Map"===(c="Object"===(c={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:c)||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(e,a):void 0}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var c=0,n=Array(a);c<a;c++)n[c]=e[c];return n}function _iterableToArrayLimit(e,a){var c=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=c){var n,i,o,t,s=[],r=!0,l=!1;try{if(o=(c=c.call(e)).next,0===a){if(Object(c)!==c)return;r=!1}else for(;!(r=(n=o.call(c)).done)&&(s.push(n.value),s.length!==a);r=!0);}catch(e){l=!0,i=e}finally{try{if(!r&&null!=c.return&&(t=c.return(),Object(t)!==t))return}finally{if(l)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(){var Me=document;cjce.registerTemplate("bm-p-gws",function(c,t){var L,l,s,n,d,O,_,q,F,H,P,i,o,r,W,m,Y=!0,K=!0,D=null,G="home",u=t.instanceParameters.productId||"search",h=cjBasics.generateUniqueId(),V=cjBasics.generateUniqueId(),g="0"===t.account.authuser?null:t.account.authuser,z=g?"?authuser="+g:"",j="https://www.google.com",J="https://news.google.com",Q="https://maps.google.com",Z="https://consent.google.com",b=cjBasics.navigator.contentScriptsOnSearchBlockable||cjBasics.navigator.isSafari,p=b?Q:j,v="/search",$="/m",X=b?v:$,f=!cjBasics.webRequest.getWrifSupported()||cjBasics.navigator.isSafari,B=cjBasics.lang.i18n("cj_i18n_00291","Home"),ee=B,w="",S="all",I=null,y=null,C="",N=null,k=[],A=!1,T=!1,R=!1,ae=!cjBasics.navigator.isFirefox,U=[],ce=!1,M=cjBasics.lang.i18n("cj_i18n_00434","Search"),e="superg",ne=("search"===u?(ce=!0,U=["udm_aimode","all","udm_web","isch","vid","nws","shop","bks","udm_forums","udm_shorts"]):"shopping"===u?(M=cjBasics.lang.i18n("cj_i18n_00435","Shopping"),e="shopping",S="shop"):"images"===u?(M=cjBasics.lang.i18n("cj_i18n_00488","Images"),e="images",S="isch"):"calculator"===u?(A=!0,M=cjBasics.lang.i18n("cj_i18n_00589","Calculator"),e="calculator",N="Google Calculator",R=!0):"mathssolver"===u?(A=!0,M=cjBasics.lang.i18n("cj_i18n_07533","Maths solver"),e="calculator_purple",N="google maths solver",R=!0):"spinner"===u?(A=!0,M=cjBasics.lang.i18n("cj_i18n_06230","Spinner"),e="calculator",N="Google Spinner",R=!0):"converter"===u?(A=!0,M=cjBasics.lang.i18n("cj_i18n_00845","Unit converter"),e="calculator_orange",N="Unit converter",R=!0):"weather"===u?(M=cjBasics.lang.i18n("cj_i18n_00743","Weather"),e="weather",C="weather near ",R=!(N="")):"sports"===u?(A=!0,M=cjBasics.lang.i18n("cj_i18n_06342","Sports"),e="sports",N="Sports",I="spo"):"finance"===u?(A=!0,M=cjBasics.lang.i18n("cj_i18n_00412","Finance"),e="finance",N="Finance",y="MARKET_SUMMARY",R=!0):"covid19"===u?(A=!0,M=cjBasics.lang.i18n("cj_i18n_06386","Coronavirus (COVID-19)"),e="public_alerts",k=[N="coronavirus","coronavirus prevention","coronavirus stats","coronavirus treatment","coronavirus symptoms","coronavirus people also search for","coronavirus news"],a=t.darkMode?"#7F9AFF":"#1c3aa9",K=Y=a,G="covidhome"):"events"===u?(A=T=!0,M=cjBasics.lang.i18n("cj_i18n_00484","Events"),e="events",N="Events",I="htl;events"):"jobs"===u?(A=T=!0,M=cjBasics.lang.i18n("cj_i18n_06354","Jobs"),e="employ",N="Jobs",S="udm_jobs"):"splinter"===u&&(T=!0,M=cjBasics.lang.i18n("cj_i18n_06353","Education"),e="education",N="Education",I="htl;splinter"),k.push(N),"bm_cache_v36__"+u+"__query"),ie={bks:"bo",isch:"i",nws:"n",shop:"sh",vid:"yt"},oe={bks:"36",isch:"2",shop:"28",udm_aimode:"50",udm_attractions:"15",udm_forums:"18",udm_jobs:"8",udm_jobsites:"10",udm_learn:"6",udm_perspectives:"4",udm_shorts:"39",udm_web:"14",vid:"7"},te={2:"isch",4:"udm_perspectives",6:"udm_learn",7:"vid",8:"udm_jobs",10:"udm_jobsites",12:"nws",14:"udm_web",15:"udm_attractions",18:"udm_forums",28:"shop",36:"bks",39:"udm_shorts",50:"udm_aimode",51:"udm_homework"},se={all:cjBasics.lang.i18n("cj_i18n_00083","All"),bks:cjBasics.lang.i18n("cj_i18n_00019","Books"),isch:cjBasics.lang.i18n("cj_i18n_00017","Images"),nws:cjBasics.lang.i18n("cj_i18n_00018","News"),shop:cjBasics.lang.i18n("cj_i18n_00015","Shopping"),udm_aimode:cjBasics.lang.i18n("cj_i18n_07779","AI Mode"),udm_attractions:cjBasics.lang.i18n("cj_i18n_07718","Attractions"),udm_forums:cjBasics.lang.i18n("cj_i18n_00182","Forums"),udm_learn:cjBasics.lang.i18n("cj_i18n_06439","Learn"),udm_perspectives:cjBasics.lang.i18n("cj_i18n_07719","Perspectives"),udm_shorts:cjBasics.lang.i18n("cj_i18n_07751","Short videos"),udm_web:cjBasics.lang.i18n("cj_i18n_07622","Web"),vid:cjBasics.lang.i18n("cj_i18n_00014","Videos")},re={all:"__mdi_todo:search",bks:"__mdi_todo:book",isch:"__mdi_todo:image",nws:"__mdi_todo:news",shop:"__mdi_todo:local_offer",udm_aimode:"__mdi_todo:spark",udm_attractions:"",udm_forums:"__mdi_todo:forum",udm_learn:"__mdi_todo:school",udm_perspectives:"",udm_shorts:"__mdi_todo:slideshow",udm_web:"__mdi_todo:language",vid:"__mdi_todo:slideshow"};function le(){cjBasics.setLocalStorageItem(ne,{q:w,tbm:S,time:Date.now()})}function de(e){S=(e=e).tbm||te[e.udm]||"all",ce&&i&&i.cjceSetEngine(S)}function _e(){var e,a,c,n,i,o,t,s,r;w?("finance"!==u&&l.cjceSetLoading(!0),d.src="covidmobility"===S?cjBasics.urlParams.attach(j+"/covid19/mobility/",{bm_cid:"covid19mobility",bm_wiz:"1",hl:cjBasics.lang.getCurrent()}):(e="gws-search",a="finance"===u&&(!w||-1!==k.indexOf(w)),c="covid19"===u&&("covidhome"===S||!S),n=p+X,a?n=j+"/finance/":"udm_aimode"===S&&(n=j+$),i=cjBasics.navigator.mobileUserAgent,f&&"isch"===S?(e="gws-search-images-desktop",i="Opera/12.02 (Android 4.1; Linux; Opera Mobi/ADR-1111101157; U; en-US) Presto/2.9.201 Version/12.02"):"shop"===S?e="gws-search-shop":"udm_aimode"===S?e="gws-aimode":"finance"===u&&"currency converter"===w.toLowerCase()?e="gws-onebox-currency":"jobs"===u||"finance"===u||"sports"===u||"covid19"===u?e="gws-"+u:"weather"!==u&&"calculator"!==u&&"mathssolver"!==u&&"spinner"!==u&&"converter"!==u||(e="gws-onebox-"+u),o=null,t=cjBasics.lang.getCurrent(),s=null,r=w,a?(r=null,s=y):!T&&"udm_aimode"!==S||(o="US"),"converter"===u&&(t="en"),c&&(r="coronavirus"),a=!S||"vid"===S||"shop"===S||"isch"===S||"all"===S||S.startsWith("udm_")?null:S,c=oe[S],n=cjBasics.urlParams.attach(n,{bm_cid:e,bm_pid:u,bm_iid:h,bm_wiz:"1",ie:"utf-8",oe:"utf-8",authuser:g,q:r,num:R?"1":null,udm:c,tbm:a,ibp:I,kptab:s,kgmid:null,fg:"1",gws_rd:"cr",nord:"1",adtest:f?"on":null,"adtest-useragent":f?i:null,igu:f?"1":null,gl:o,hl:t}),"events"===u&&(n+="#fpstate=tlexp&htiq=Events"),n)):d.src="about:blank",_.focus(),le()}function me(){return w&&("patents"===u||"search"===u&&"udm_aimode"!==S&&"isch"!==S&&"shop"!==S)}function ue(){return"isch"===S&&("images"!==u||!!w)}function he(){return"search"===u&&"all"===S}function ge(e){return!r&&("search"===u||"covid19"===u&&!(e||S&&"covidhome"!==S))}function je(){F.hidden=!ue(),q.hidden=!he(),P.hidden=!me(),H.hidden="udm_aimode"!==S;var e=w&&-1===k.indexOf(w);A&&(n.hidden=!e),i&&(i.hidden=!ge(e)),"shopping"===u&&(e=_.value,l.cjceSetNavigatorCollapseState(w!==e&&e),l.cjceSetNavigatorFullWidthState(!e))}function E(e){e=e||_.value||N;C&&!e.startsWith(C)&&(e=C+e),w=e,d.hidden=!w,O.hidden=w,A||l.cjceSetNavigatorCollapseState(_.value),_e(),je()}function be(e){S=e,(w?_e:E)(),je()}function pe(){var e=cjce.createElement("cjmd-appbar",{secondary:!0}),a="search"===u&&cjBasics.lang.checkLanguageHasShortVocabulary(cjBasics.lang.getCurrent(),!0)?5:4,c=(1e3<Me.body.offsetWidth&&(a=10),{}),n=(U.forEach(function(e){c[e]={iconName:re[e],label:se[e]}}),cjce.createElement("ccbm-tabs",{color:L,items:c,itemLimit:a,onMetaClick:function(e){S=e,Ae()},onChange:be,onActiveClick:be,selectedId:S}));return e.appendChild(n),e.cjceSetEngine=function(e){n&&(n.cjceSelectedId=e||"all")},e}var a,ve={LOCAL_MARKETS:cjBasics.lang.i18n("cj_i18n_01113","Local markets"),WORLD_MARKETS:cjBasics.lang.i18n("cj_i18n_01114","World markets"),YOUR_STOCKS:cjBasics.lang.i18n("cj_i18n_06879","Your watchlists")};function fe(e){var a={MARKET_SUMMARY:{iconName:"__mdi_todo:trending_up",label:B,newTabUrl:!0},YOUR_STOCKS:{iconName:"__mdi_todo:list",label:ve.YOUR_STOCKS,newTabUrl:!0,divider:!0},currencyConverter:{iconName:"__mdi_todo:swap_horiz",label:cjBasics.lang.i18n("cj_i18n_00829","Currency converter"),newTabUrl:!0}};m=cjce.createElement("bm-navlist",{selectedId:"MARKET_SUMMARY",isSelector:!0,items:a,onChange:function(e){"currencyConverter"===e?(m.cjceSelectedId=y,x(w="Currency converter"),E(w)):Se(e)},onNewTab:function(e,a){var c;"YOUR_STOCKS"===e?(c=cjBasics.urlParams.attach(j+"/finance/portfolio",{authuser:g,kptab:"YOUR_STOCKS"}),t.openTab(c)):"currencyConverter"===e?Ie(e,a):(c=e,c=cjBasics.urlParams.attach(j+"/finance/",{kptab:e||null,authuser:g}),t.openTab(c))}}),e.appendChild(m)}function Be(e){var a,c,n;"finance"===u?fe(e):"covid19"===u?(n=e,a={covidhome:{iconName:"__mdi_todo:home",label:B,newTabUrl:j+v+"?q=COVID-19"},covidresources:{iconName:"__mdi_todo:description",label:cjBasics.lang.i18n("cj_i18n_06648","Resources"),shortcutId:"1041",external:!0},nws:{iconName:"__mdi_todo:news",label:cjBasics.lang.i18n("cj_i18n_01345","Headlines"),newTabUrl:J+"/topics/CAAqIggKIhxDQkFTRHdvSkwyMHZNREZqY0hsNUVnSmxiaWdBUAE"+z},vid:{iconName:"__mdi_todo:slideshow",label:cjBasics.lang.i18n("cj_i18n_00014","Videos"),newTabUrl:j+"/videohp"+z+"#q=Coronavirus&tbm=vid"},covidself:{iconName:"__mdi_todo:how_to_reg",label:cjBasics.lang.i18n("cj_i18n_06598","Self-assessment"),shortcutId:"1054",external:!0},covidmobility:{iconName:"__mdi_todo:commute",label:cjBasics.lang.i18n("cj_i18n_06499","Community mobility reports"),newTabUrl:j+"/covid19/mobility/"},covidtrends:{iconName:"__mdi_todo:trending_up",label:cjBasics.lang.i18n("cj_i18n_06500","Data & insights"),newTabUrl:"https://trends.google.com/trends/story/US_cu_4Rjdh3ABAABMHM_en"+z,external:!0}},a=cjce.createElement("bm-navlist",{selectedId:"covidhome",isSelector:!0,items:a,onChange:function(e,a){"covidhome"===e?l.cjceSetPageLabel(B):l.cjceSetPageLabel(a.label),x(w=N),E(w)},onNewTab:Ie}),n.appendChild(a)):("images"===u?c={home:{iconName:"__mdi_todo:home",label:B,shortcutId:"96"},lens:{iconName:"__mdi_todo:google_lens",label:cjBasics.lang.i18n("cj_i18n_06348","Search by image"),shortcutId:"1003",external:!0},advancedimages:{iconName:"__mdi_todo:tune",label:cjBasics.lang.i18n("cj_i18n_00406","Advanced search"),shortcutId:"535",external:!0},life:{iconName:"__mdi_todo:history",label:cjBasics.lang.i18n("cj_i18n_00489","LIFE photo archive"),shortcutId:"99",external:!0},save:{iconName:"__mdi_todo:bookmarks",label:cjBasics.lang.i18n("cj_i18n_07396","Saved"),shortcutId:"359",divider:!0},settings:{iconName:"__mdi_todo:settings",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),shortcutId:"127",external:!0},yourdata:{iconName:"__mdi_todo:cjg_account",label:cjBasics.lang.i18n("cj_i18n_01738","Your data in Search"),shortcutId:"866",external:!0}}:"shopping"===u?(c={home:{iconName:"__mdi_todo:home",label:B},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},save:{iconName:"__mdi_gm:bookmark_border",label:cjBasics.lang.i18n("cj_i18n_07396","Saved"),shortcutId:"359"},search:{iconName:"__mdi_todo:search",label:cjBasics.lang.i18n("cj_i18n_01365","Google Search"),shortcutId:"157"}},cjBasics.webRequest.getWrifSupported()||delete c.save):"converter"===u?c={home:{iconName:"__mdi_todo:home",label:B,shortcutId:"572"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},calculator:{iconName:"__mdi_gm:calculate",label:cjBasics.lang.i18n("cj_i18n_00589","Calculator"),shortcutId:"272"},mathssolver:{iconName:"__mdi_gm:functions",label:cjBasics.lang.i18n("cj_i18n_07533","Maths solver"),shortcutId:"1707"},finance:{iconName:"__mdi_gm:finance",label:cjBasics.lang.i18n("cj_i18n_07113","Google Finance"),shortcutId:"54"}}:"mathssolver"===u?c={home:{iconName:"__mdi_todo:home",label:B,shortcutId:"272"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},calculator:{iconName:"__mdi_gm:calculate",label:cjBasics.lang.i18n("cj_i18n_00589","Calculator"),shortcutId:"272"},converter:{iconName:"__mdi_gm:swap_horiz",label:cjBasics.lang.i18n("cj_i18n_00845","Unit converter"),shortcutId:"572"}}:"calculator"===u?c={home:{iconName:"__mdi_gm_hybrid:home",label:B,shortcutId:"272"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},mathssolver:{iconName:"__mdi_todo:functions",label:cjBasics.lang.i18n("cj_i18n_07533","Maths solver"),shortcutId:"1707"},converter:{iconName:"__mdi_todo:swap_horiz",label:cjBasics.lang.i18n("cj_i18n_00845","Unit converter"),shortcutId:"572"},finance:{iconName:"__mdi_todo:finance",label:cjBasics.lang.i18n("cj_i18n_07113","Google Finance"),shortcutId:"54"}}:"weather"===u?c={home:{iconName:"__mdi_todo:home",label:B,shortcutId:"464"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},news:{iconName:"__mdi_todo:play_newsstand",label:cjBasics.lang.i18n("cj_i18n_00425","News"),shortcutId:"109"},search:{iconName:"__mdi_todo:search",label:cjBasics.lang.i18n("cj_i18n_01365","Google Search"),shortcutId:"157"}}:"patents"===u?c={home:{iconName:"__mdi_todo:home",label:B,shortcutId:"115"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},scholar:{iconName:"__mdi_todo:school",label:cjBasics.lang.i18n("cj_i18n_00433","Scholar"),shortcutId:"125"},search:{iconName:"__mdi_todo:search",label:cjBasics.lang.i18n("cj_i18n_01365","Google Search"),shortcutId:"157"}}:"search"===u?c={home:{iconName:"__mdi_todo:home",label:B,shortcutId:"157"},save:{iconName:"__mdi_todo:bookmarks",label:cjBasics.lang.i18n("cj_i18n_07396","Saved"),shortcutId:"359",external:!cjBasics.webRequest.getWrifSupported(),divider:!0},advancedweb:{iconName:"__mdi_todo:search",label:cjBasics.lang.i18n("cj_i18n_00406","Advanced search"),shortcutId:"5",external:!0},advancedimages:{iconName:"__mdi_todo:image_search",label:cjBasics.lang.i18n("cj_i18n_01453","Advanced image search"),shortcutId:"535",external:!0,divider:!0},settings:{iconName:"__mdi_todo:settings",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),shortcutId:"127",external:!0},yourdata:{iconName:"__mdi_todo:cjg_account",label:cjBasics.lang.i18n("cj_i18n_01738","Your data in Search"),shortcutId:"866",external:!0},howsearchworks:{iconName:"__mdi_todo:cjg_howsearchworks",label:cjBasics.lang.i18n("cj_i18n_01802","How Search works"),shortcutId:"916",external:!0}}:(c={home:{iconName:"__mdi_todo:home",label:B},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},search:{iconName:"__mdi_todo:search",label:cjBasics.lang.i18n("cj_i18n_01365","Google Search"),shortcutId:"157"},save:{iconName:"__mdi_gm:bookmark_border",label:cjBasics.lang.i18n("cj_i18n_07396","Saved"),shortcutId:"359"}},cjBasics.webRequest.getWrifSupported()||delete c.save),n=cjce.createElement("bm-navlist",{selectedId:G,items:c,onClick:function(e){e!==G&&("save"===e?Ne():t.pageManager.navigate(e))},onNewTab:Ie}),e.appendChild(n))}function we(e){e=e||"MARKET_SUMMARY";l.cjceSetPageLabel(ve[e]||B),l.cjceSetBackState("MARKET_SUMMARY"!==e),m.cjceSelectedId=e}function Se(e){we(y=e),E()}function Ie(e,a){a=a;e="currencyConverter"===(e=e)?cjBasics.urlParams.attach(j+v,{q:"Currency converter",authuser:g}):"reviews"===e?"https://customerreviews.google.com"+t.wizPath+"/":a.newTabUrl||cjgFrontend.urls.getShortcutUrl(a.shortcutId,t.account);t.openTab(e)}function ye(e){var a=Boolean(e);s.hidden=!a,r=e,i.hidden=!ge()}function Ce(){var e=cjce.createElement("cjmd-container",{shadow:"thin"}),a=cjce.createElement("cjmd-emptystate",{iconName:"__mdi_todo:search",subLabel:cjBasics.lang.i18n("cj_i18n_00046","Please enter a search query")});return e.appendChild(a),"images"===u?(a={lens:{iconName:"__mdi_todo:google_lens",label:cjBasics.lang.i18n("cj_i18n_06348","Search by image"),shortcutId:"1003"},advancedimages:{iconName:"__mdi_todo:tune",label:cjBasics.lang.i18n("cj_i18n_00406","Advanced search"),shortcutId:"535"},save:{iconName:"__mdi_todo:bookmarks",label:cjBasics.lang.i18n("cj_i18n_07396","Saved"),shortcutId:"359"}},a=cjce.createElement("ccbm-biglinks",{bottom:!0,items:a,onClick:function(e,a){"save"===e?Ne():"lens"===e?t.pageManager.navigate("lens"):(e=cjgFrontend.urls.getShortcutUrl(a.shortcutId,t.account),t.openTab(e))},onMetaClick:function(e,a){a=cjgFrontend.urls.getShortcutUrl(a.shortcutId,t.account);t.openTab(a)}}),e.appendChild(a)):"search"===u&&(a={weather:{iconName:"__mdi_todo:wb_sunny",label:cjBasics.lang.i18n("cj_i18n_00743","Weather"),shortcutId:"464"},sports:{iconName:"__mdi_todo:emoji_events",label:cjBasics.lang.i18n("cj_i18n_06342","Sports"),shortcutId:"1006"},calculator:{iconName:"__mdi_todo:calculate",label:cjBasics.lang.i18n("cj_i18n_00589","Calculator"),shortcutId:"157"}},a=cjce.createElement("ccbm-biglinks",{bottom:!0,items:a,onClick:function(e,a){t.pageManager.navigate(e,{withReturn:!0})},onMetaClick:function(e,a){a=cjgFrontend.urls.getShortcutUrl(a.shortcutId,t.account);t.openTab(a)}}),e.appendChild(a)),e}function Ne(){var e;cjBasics.webRequest.getWrifSupported()?t.pageManager.navigate("save",{listId:"isch"===S?"dt_fav_images":null}):(e=cjgFrontend.urls.getShortcutUrl("359",t.account),t.openTab(e))}function x(e,a){a&&_.value||((a=e)&&-1===k.indexOf(e)||(a=""),C&&a.startsWith(C)&&(a=a.replace(C,"")),A?n.cjceSetPageLabel(a):(_.value=a,l.cjceSetNavigatorCollapseState(a)))}function ke(e){w=e,Ae()}function Ae(){if("finance"===u)e=cjBasics.urlParams.attach(j+"/finance/",{authuser:g}),t.openTab(e);else{if("covid19"===u){var e=S;if("covidmobility"===(e=S||"covidhome"))return void t.openTab(j+"/covid19/mobility/");if("covidhome"===e)return void t.openTab(j+"/covid19/")}I?(e=cjBasics.urlParams.attach(j+v,{ibp:I,q:N,authuser:g,gl:T?"US":null}),t.openTab(e)):(e=w&&v||("shop"===S?"/shopping":"/"),e=cjBasics.urlParams.attach(j+e,{authuser:g,q:w||null,udm:oe[S]}),t.openTab(e))}}function Te(){var c;"covid19"===u&&!S||"about:blank"===d.src?Ae():(c=!1,d.cjceSendFrameRequest({method:"gwsGetUrl"},p).then(function(e){var a;c||(c=!0,(a=(e=new URL(e)).searchParams).delete("hl"),a.delete("bm_cid"),a.delete("bm_pid"),a.delete("bm_iid"),a.delete("bm_wiz"),a.delete("gws_rd"),a.delete("fg"),a.delete("ie"),a.delete("oe"),a.delete("adtest"),a.delete("adtest-useragent"),a.delete("nord"),a.delete("igu"),a.get("udm")&&a.delete("tbm"),"finance"===u&&-1!==(a.get("q")||"").indexOf(": ")&&a.set("tbm","fin"),e.pathname!==$&&"/mobile"!==e.pathname&&"/images"!==e.pathname||(e.pathname=v),t.openTab(e.href))}),setTimeout(function(){c||(c=!0,Ae())},500))}function Re(){d.cjceSendFrameCommand({method:"gwsGoBack"},p)}function Ue(){var e=cjce.createElement("bm-ogb",{displayBack:!0,floating:!0,color:D,aboveTopDrawer:!0,bmApis:t,onNewTab:function(){t.openTab(r.url)},serviceLabel:M,pageLabel:cjBasics.lang.i18n("cj_i18n_06387","AMP page"),onBack:Re}),a=(e.hidden=!0,cjce.createElement("ccbm-iconbutton",{iconName:"__mdi_gm:link",label:cjBasics.lang.i18n("cj_i18n_01901","Copy link"),onClick:function(){cjBasics.copyToClipboard(r.url),o||(o=cjce.createElement("ccbm-snackbar",{label:cjBasics.lang.i18n("cj_i18n_07124","Copied to clipboard")}),c.appendChild(o)),o.cjceShow()}}));return e.cjceAppendChild(a),e}l=cjce.createElement("bm-ogb",{loading:K,drawer:{color:Y},color:D,serviceLabel:M,pageLabel:ee,serviceIcon:e,searchbox:{submitInNewTab:"external"===A,suggestHandler:C?null:function(e){return cjgFrontend.suggestquery.get({gAccount:t.account,hl:cjBasics.lang.getCurrent(),q:e,ds:ie[S]})},onInput:je,onClear:"external"!==A&&E,onSubmit:"external"===A?ke:E,onMetaSubmit:ke},bmApis:t,onNewTab:Te,onBack:function(){"finance"===u?Se("MARKET_SUMMARY"):W?t.pageManager.navigate("search"):Re()}}),"finance"!==u&&"covid19"!==u&&l.cjceSetLoading(!1),c.appendChild(l),(F=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi_gm:bookmarks",label:cjBasics.lang.i18n("cj_i18n_01454","View saved"),onClick:Ne})).hidden=!ue(),l.cjceAppendChild(F),(H=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi_gm:history",label:cjBasics.lang.i18n("cj_i18n_00155","History"),onClick:function(){d.cjceSendFrameCommand({method:"gwsOpenHistory"},p)}})).hidden="udm_aimode"!==S,l.cjceAppendChild(H),(q=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi_gm:google_lens",label:cjBasics.lang.i18n("cj_i18n_06348","Search by image"),onClick:function(){t.pageManager.navigate("lens")}})).hidden=!he(),l.cjceAppendChild(q),(P=cjce.createElement("ccbm-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00110","Filter"),iconName:"__mdi_todo:tune",onClick:function(){d.cjceSendFrameCommand({method:"gwsToggleFilterMenu"},p)}})).hidden=!me(),l.cjceAppendChild(P),A&&((n=cjce.createElement("bm-ogb",{displayBack:!0,floating:!0,color:D,serviceLabel:M,pageLabel:cjBasics.lang.i18n("cj_i18n_00325","Loading…"),bmApis:t,onNewTab:Te,onBack:Re})).hidden=!0,c.appendChild(n)),ae&&(s=Ue(),c.appendChild(s)),Be(l.cjceDrawerEl),(_=l.cjceSearchboxEl).hidden=!0===A,U&&1<U.length&&(i=pe(),l.appendChild(i)),O=Ce(),c.appendChild(O),a=[p+"/*bm_iid="+h+"*",Z+"/*bm_iid="+h+"*",Z+"/*bm_iid%3D"+h+"*"],b&&a.push(j+"/*bm_iid="+h+"*"),cjBasics.webRequest.handleIframeHeaders(a,{handleFirefoxInject:!0,handleSecVariables:!0,handleSwCache:!0,useMobileUserAgent:!0}),cjBasics.webRequest.handleIframeHeaders(["https://www.google.com/fbx?fbx=coronavirus_fbx*"]),"covid19"===u&&cjBasics.webRequest.handleIframeHeaders([j+"/covid19-map/*bm_iid="+V+"*",J+"/covid19/map*bm_iid="+V+"*"],{disableOgs:j,handleFirefoxInject:!0,handleSwCache:!0,useMobileUserAgent:!0}),cjBasics.webRequest.catchAndStop(["https://accounts.google.com/ServiceLogin*bm_iid*"+h+"*"],function(){cjgApis.account.signin(t.account),d.src="about:blank"}),(d=cjce.createElement("bm-iframe",{solid:"#fff",shadow:"thinOnScroll",onBmMessage:function(e,a){var c,n,i,o;"bmCstOpenUrl"===e?a&&(i=(n=_slicedToArray(a,3))[0],c=n[1],n=n[2],i=cjBasics.cleanBmUrl(i).split("#",1)[0],-1!==(i=b&&i.startsWith(Q)?i.replace(Q,j):i).indexOf("tbm=")&&-1!==i.indexOf("udm=")&&((o=new URL(i)).searchParams.delete("tbm"),i=o.href),t.openTab(i,c,n)):"gwsOpenAmp"===e?(o=a,ae?(s.cjceSetPageLabel(o.label,{capitalise:!1}),ye(o)):t.openTab(o.url)):"gwsCloseAmp"===e?ye(null):"gwsSetFinanceTab"===e&&"finance"===u?Se(a):"gwsReflectFinanceTab"===e&&"finance"===u?we(a):"gwsUpdateQuery"===e&&(de(a),x(w=a.q),le(),je())},onLoad:function(){"about:blank"!==d.src&&l.cjceSetLoading(!1)}})).hidden=!0,c.appendChild(d),t.setOnPageDisplayHandler(function(e){W=e.withReturn,e.withReturn&&l.cjceSetBackState(!0),_.select()}),N?E():cjBasics.getLocalStorageItem(ne).then(function(e){e&&e.q&&Date.now()-e.time<36e5?(de(e),x(w=e.q,!0),E(),_.select()):C&&(x(w=C),E())})})}();