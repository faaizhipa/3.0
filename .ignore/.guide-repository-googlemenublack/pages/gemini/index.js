"use strict";cjce.registerTemplate("bm-p-gemini",function(e,n){var i="https://gemini.google.com",a=n.wizPath+"/",c=i+a,t="https://one.google.com",l="/explore-plan/gemini-advanced",o=cjBasics.generateUniqueId(),d="app",s={bm_cid:"gemini",bm_cst:"1",bm_iid:o,bm_udm:n.darkMode?"1":"0",bm_wiz:"1",hl:cjBasics.lang.getCurrent()},m=cjBasics.urlParams.attach(c,s);function r(){var e=t+n.wizPath+l;n.openTab(e)}cjBasics.webRequest.handleIframeHeaders([i+"/*bm_iid="+o+"*"],{handleFirefoxInject:!0,handleSecVariables:!0,handleSwCache:!0}),cjBasics.webRequest.addListener("onBeforeRequest",function(){return r(),g.src=m,{cancel:!0}},{types:["sub_frame"],urls:[t+l+"*",t+"/u/*"+l+"*"]},["blocking"]);o=[{iconName:"__mdi_todo:home",id:"app",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),newTabUrl:!0},{iconName:"__mdi_todo:history",external:!0,id:"activity",label:cjBasics.lang.i18n("cj_i18n_01515","Activity"),newTabUrl:"https://myactivity.google.com"+n.wizPath+"/product/gemini"},{iconName:"__mdi_todo:person",id:"saved-info",label:cjBasics.lang.i18n("cj_i18n_07932","Saved info"),newTabUrl:!0},{iconName:"__mdi_todo:extension",id:"apps",label:cjBasics.lang.i18n("cj_i18n_00216","Apps"),newTabUrl:!0},{iconName:"__mdi_todo:schedule",id:"scheduled",label:cjBasics.lang.i18n("cj_i18n_07933","Scheduled actions"),newTabUrl:!0},{iconName:"__mdi_todo:link",id:"sharing",label:cjBasics.lang.i18n("cj_i18n_07430","Public links"),newTabUrl:!0},{iconName:"__mdi_todo:diamond",id:"gems/view",label:cjBasics.lang.i18n("cj_i18n_07929","Gem manager"),newTabUrl:!0,divider:!0},{external:!0,iconName:"__mdi_todo:event_note",id:"updates",label:cjBasics.lang.i18n("cj_i18n_00313","Updates"),newTabUrl:"https://gemini.google/release-notes/"},{external:!0,iconName:"__mdi_todo:feedback",id:"help",label:cjBasics.lang.i18n("cj_i18n_07332","Help & support"),newTabUrl:"https://support.google.com/gemini/"+("0"===n.account.authuser?"":"?authuser="+n.account.authuser)}];function _(e){e=a+(e=e),e=cjBasics.urlParams.attach(e,s),g.cjceSendFrameCommand({method:"bmCstUpdateState",value:e},i)}var p=cjce.createElement("bm-ogb",{drawer:{color:!0},loading:!0,serviceIcon:"gemini",serviceLabel:cjBasics.lang.i18n("cj_i18n_07519","Gemini"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:n,onNewTab:function(){n.openTab(c)}}),b=(e.appendChild(p),cjce.createElement("bm-navlist",{items:o,isSelector:!0,selectedId:"app",onChange:function(e,a){"app"===(e="advanced"===e?"app":e)&&"app"===d?g.cjceSendFrameCommand({method:"geminiToggleAdvanced"},i):(p.cjceSetPageLabel(a.label),_(e),d=e)},onNewTab:function(e,a){a=a.newTabUrl,n.openTab(a=!0===a?c+e:a)}})),o=(p.cjceDrawerEl.appendChild(b),cjce.createElement("ccbm-button",{outline:!0,label:cjBasics.lang.i18n("cj_i18n_07565","New chat"),onClick:function(){g.cjceSendFrameCommand({method:"bmCstClickDomElement",value:'[data-test-id="reset-button"]'},i)}})),g=(p.cjceAppendChild(o),cjce.createElement("bm-iframe",{src:m,shadow:"thinOnScroll",onBmMessage:function(e,a){"geminiOpenBuyAdvanced"===e?r():"geminiAdvancedState"===e&&"app"===d&&(b.cjceSelectedId=a?"advanced":"app",e=a?cjBasics.lang.i18n("cj_i18n_01588","Advanced"):cjBasics.lang.i18n("cj_i18n_00291","Home"),p.cjceSetPageLabel(e))},onLoad:function(){p.cjceSetLoading(!1)}}));e.appendChild(g)});