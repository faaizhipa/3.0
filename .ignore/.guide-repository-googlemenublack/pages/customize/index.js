"use strict";!function(){var u=document;cjce.registerTemplate("bm-p-customize",function(i,n){var t,r,c=!1,o=[],d="_",s=0;function l(e){for(var t=e?e.toLowerCase():"",c=i.querySelectorAll(".bm-p-customize-pageitem"),a=0;a<c.length;a++){var n=t&&-1===c[a].cjceQueryKeywords.indexOf(e);c[a].classList.toggle("bm-p-customize-pageitem--hidden",n)}}function a(){i.textContent="";var e=cjce.createElement("bm-ogb",{serviceIcon:"black_menu_for_google",pageLabel:c?cjBasics.lang.i18n("cj_i18n_02163","Welcome!"):cjBasics.lang.i18n("cj_i18n_01585","Customize menu")}),e=(i.appendChild(e),cjce.createElement("cjmd-secondarytext",{label:c?cjBasics.lang.i18n("cj_i18n_02164",'To get started, click or drag the services you want to be added to the menu. Once done, click "Finish" at the bottom right'):cjBasics.lang.i18n("cj_i18n_02165","Click or drag services to customize the menu")})),e=(e.classList.add("bm-p-customize-infotext"),i.appendChild(e),cjce.createElement("cjmd-appbar",{secondary:!0})),e=(t=cjce.createElement("cjmd-searchbox",{placeholder:cjBasics.lang.i18n("cj_i18n_00085","Search"),onInput:l,onClear:l,color:!0}),e.appendChild(t),i.appendChild(e),cjce.createElement("cjmd-container",{scrollable:!0,shadow:"transparentOnScroll"}));(r=cjce.createElement("cjmd-list")).addEventListener("dragstart",function(e){e.dataTransfer.setData("serviceId",e.target.dataset.id)}),r.addEventListener("click",function(e){var e=u.activeElement||e.target,t=e&&e.dataset.id;t&&(n.userServices.add(t),e.remove(),d=d.replace(t+"_",""))}),e.appendChild(r),i.appendChild(e)}function m(e){var a=u.createDocumentFragment(),c=n.userServices.getDefaultServices(),e=(e.sort(function(e,t){e=c.indexOf(e),t=c.indexOf(t);return e===t?0:t<e?-1:1}).forEach(function(e){e=e,t=n.servicesDatabase[e]||{},c=t.iconName||"placeholder",n.darkMode&&"googleg"===c&&(c="search"),(c=cjce.createElement("cjmd-item",{icon:{serviceName:c},label:t.label||"Page"})).cjceQueryKeywords=(t.label+"-"+cjgFrontend.urls.getShortcutUrl(t.shortcutId)).toLowerCase(),c.classList.add("bm-p-customize-pageitem"),c.draggable=!0,c.dataset.id=e,c.tabIndex=0,(t=cjce.createElement("cjmd-icon",{name:"__mdi_todo:drag_indicator",size:20})).classList.add("bm-p-customize-pageitem__dragicon"),c.appendChild(t);var t,c,e=c;a.appendChild(e)}),r.textContent="",r.appendChild(a),t.value);e&&l(e)}a(),n.setOnPageDisplayHandler(function(e){e=Boolean(e.welcome);e!==c&&(c=e,a(),0<o.length)&&m(o),t.select()}),n.userServices.onChange(function(e,c){var a=s+1;setTimeout(function(){var e,t;e=c,(t=a)===s&&(t=e.join("_")+"_",d!==t)&&(d=t,m(o=e))},s?200:10),s=a})})}();